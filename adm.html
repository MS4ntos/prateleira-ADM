<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <title>Modern Admin Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="prateleira.css">
  <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
</head>
<body>

  <input type="checkbox" id="menu-toggle">
  <div class="sidebar">
    <div class="side-header">
      <h3><span>Sistema</span></h3>
    </div>

    <div class="side-menu">
      <ul>
        <li>
          <a href="javascript:void(0)" data-tela="tela-dashboard" class="active">
            <span class="las la-home"></span>
            <small>Dashboard</small>
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" data-tela="tela-cadastro">
            <span class="las la-user-plus"></span>
            <small>Cadastrar Funcionário</small>
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" data-tela="tela-funcionarios">
            <span class="las la-users"></span>
            <small>Funcionários</small>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <div class="main-content">
    <header>
      <div class="header-content">
        <label for="menu-toggle">
          <span class="las la-bars"></span>
        </label>

        <div class="header-menu">
          <label for="">
            <span class="las la-search"></span>
          </label>

          <div class="user" onclick="logout()">
            <div class="bg-img" style="background-image: url(img/1.jpeg)"></div>
            <span class="las la-power-off"></span>
            <span>Logout</span>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="page-header">
        <h1>Dashboard</h1>
        <small>Home / Dashboard</small>
      </div>

      <div class="page-content">

        <!-- TELA: DASHBOARD -->
        <div id="tela-dashboard">
          <div id="shelves-container"></div>
        </div>

        <!-- TELA: CADASTRO DE FUNCIONÁRIO -->
        <div id="tela-cadastro" style="display: none;">
          <h2>Cadastrar Novo Funcionário</h2>
          <form id="form-cadastro">
            <label for="id-funcionario">ID do Funcionário</label><br>
            <input type="text" id="id-funcionario" required><br><br>

            <label for="senha">Senha</label><br>
            <input type="password" id="senha" required><br><br>

            <button type="submit">Cadastrar</button>
          </form>
        </div>

        <!-- TELA: FUNCIONÁRIOS -->
        <div id="tela-funcionarios" style="display: none;">
          <h2>Funcionários Cadastrados</h2>
          <ul id="lista-funcionarios"></ul>
        </div>

      </div>
    </main>
  </div>

  <!-- Botão Sair com ícone -->
  <div style="position: absolute; top: 20px; right: 20px; display: flex; align-items: center; gap: 8px;">
    <i class="fas fa-power-off" style="cursor: pointer;" onclick="logout()"></i>
    <span style="cursor: pointer;" onclick="logout()">Sair</span>
  </div>

  <!-- Scripts -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
  <script src="script.js"></script>
  <script src="adm.js"></script>

  <script>
    const menuLinks = document.querySelectorAll('.side-menu a');
    const telas = ['tela-dashboard', 'tela-cadastro', 'tela-funcionarios'];
    const listaFuncionarios = [];

    menuLinks.forEach(link => {
      link.addEventListener('click', function () {
        menuLinks.forEach(l => l.classList.remove('active'));
        this.classList.add('active');

        const tela = this.getAttribute('data-tela');
        mostrarTela(tela);
      });
    });

    function mostrarTela(id) {
      telas.forEach(t => {
        document.getElementById(t).style.display = 'none';
      });
      document.getElementById(id).style.display = 'block';

      if (id === 'tela-funcionarios') {
        renderizarListaFuncionarios();
      }
    }

    document.getElementById('form-cadastro').addEventListener('submit', function (e) {
      e.preventDefault();
      const id = document.getElementById('id-funcionario').value.trim();
      const senha = document.getElementById('senha').value;

      if (id && senha) {
        listaFuncionarios.push({ id });
        this.reset();
        mostrarTela('tela-funcionarios');
      }
    });

    function renderizarListaFuncionarios() {
      const ul = document.getElementById('lista-funcionarios');
      ul.innerHTML = '';
      listaFuncionarios.forEach((f, index) => {
        const li = document.createElement('li');
        li.textContent = `Funcionário ${index + 1}: ${f.id}`;
        ul.appendChild(li);
      });
    }

    mostrarTela('tela-dashboard');
  </script>

</body>
</html>
